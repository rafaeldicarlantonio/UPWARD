â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    GOLDEN SET CURATION TOOLS                                 â•‘
â•‘                      DELIVERY SUMMARY                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROJECT: Golden set curation tools with diffing and review process
ACCEPTANCE: Adding items enforces unique IDs; diffs show before/after evidence
            IDs; documentation explains review steps

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DELIVERABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 1. Golden Addition Tool (tools/golden_add.py - 496 lines)

Features:
  â€¢ Add new golden items with stable IDs
  â€¢ Update existing items with version tracking
  â€¢ ID validation and uniqueness enforcement
  â€¢ Human approval requirement (approved_by, rationale)
  â€¢ Interactive and command-line modes
  â€¢ Suite-specific fields for all eval suites

Usage:
  # Add item
  python tools/golden_add.py \
    --suite implicate_lift \
    --id golden_bridge_001 \
    --query "Test query" \
    --expected-sources "src_001,src_002" \
    --rationale "Test case for..." \
    --approved-by "user@example.com"
  
  # Update item
  python tools/golden_add.py \
    --suite implicate_lift \
    --id golden_bridge_001 \
    --update \
    --expected-sources "src_001,src_002,src_003" \
    --rationale "Added src_003" \
    --approved-by "user@example.com"
  
  # Interactive mode
  python tools/golden_add.py --interactive

Validation:
  â€¢ IDs must start with 'golden_'
  â€¢ IDs must be unique within suite
  â€¢ Email must be valid format
  â€¢ Rationale is required
  â€¢ Suite-specific fields validated

âœ… 2. Golden Diff Tool (tools/golden_diff.py - 478 lines)

Features:
  â€¢ Compare current vs committed versions
  â€¢ Show added, removed, modified items
  â€¢ Highlight evidence ID changes (before/after)
  â€¢ Git integration for historical comparison
  â€¢ Review summary with checklist
  â€¢ Verbose mode for detailed changes

Usage:
  # Show changes since last commit
  python tools/golden_diff.py --suite implicate_lift
  
  # Compare against specific commit
  python tools/golden_diff.py --suite pareto_gate --git-ref HEAD~3
  
  # Verbose diff with full details
  python tools/golden_diff.py --suite implicate_lift --verbose
  
  # Generate review summary
  python tools/golden_diff.py --suite implicate_lift --review

Output:
  â€¢ Summary: counts of added/removed/modified
  â€¢ Added items (â•): ID, approver, rationale
  â€¢ Removed items (â–): ID
  â€¢ Modified items (ğŸ“): version change, field changes
  â€¢ Evidence ID changes: "Removed: X, Added: Y"

âœ… 3. Comprehensive Documentation (docs/evals-curation.md - 600+ lines)

Sections:
  â€¢ Overview: Why golden sets matter
  â€¢ Directory structure
  â€¢ Golden item structure (with examples)
  â€¢ Required fields
  â€¢ Tool usage (both tools)
  â€¢ Curation workflow (6 steps)
  â€¢ Review process (5 steps)
  â€¢ Common scenarios (3 detailed examples)
  â€¢ Best practices (DOs and DON'Ts)
  â€¢ Troubleshooting
  â€¢ Quick reference card

Workflow Steps:
  1. Identify need
  2. Create item (golden_add.py)
  3. Verify evidence IDs
  4. Review changes (golden_diff.py)
  5. Get approval (checklist)
  6. Commit

Review Steps:
  1. Generate diff
  2. Check diff output (added/modified/removed)
  3. Validate evidence IDs
  4. Test against system
  5. Approve or request changes

âœ… 4. Unit Tests (tests/test_golden_curation.py - 335 lines)

Test Coverage:
  â€¢ 20 tests across 5 test classes
  â€¢ 100% pass rate

Test Classes:
  1. TestGoldenSetManager (9 tests)
     - Directory creation
     - Add/update items
     - ID validation (format, uniqueness)
     - Get/list items
  
  2. TestEmailValidation (3 tests)
     - Valid email
     - Invalid email (no @, empty)
  
  3. TestGoldenDiff (5 tests)
     - Diff detection (added, removed, modified)
     - Change computation
     - Diff formatting
  
  4. TestWorkflow (1 test)
     - Complete add-review-update workflow
  
  5. TestAcceptanceCriteria (3 tests)
     - Unique ID enforcement
     - Evidence ID changes shown in diff
     - Human approval required

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ACCEPTANCE CRITERIA VALIDATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Adding Items Enforces Unique IDs
   IMPLEMENTATION:
     â€¢ validate_id() checks ID uniqueness
     â€¢ Raises ValueError if ID exists
     â€¢ Requires --update flag for existing IDs
   
   TEST:
     â€¢ test_unique_id_enforcement
     â€¢ test_validate_id_uniqueness
   
   VERIFICATION:
     $ python tools/golden_add.py --suite implicate_lift --id golden_bridge_001 ...
     âŒ Error: ID 'golden_bridge_001' already exists. Use --update to modify.

âœ… Diffs Show Before/After Evidence IDs
   IMPLEMENTATION:
     â€¢ compute_changes() tracks field-level changes
     â€¢ Special formatting for expected_sources
     â€¢ Shows "Removed: X, Added: Y"
   
   TEST:
     â€¢ test_diff_shows_evidence_id_changes
     â€¢ test_compute_changes
   
   VERIFICATION:
     $ python tools/golden_diff.py --suite implicate_lift --verbose
     
     ğŸ“ Modified Items:
       ~ golden_bridge_001
         Changes:
           expected_sources:
             - Removed: src_old_001
             + Added: src_new_003

âœ… Documentation Explains Review Steps
   IMPLEMENTATION:
     â€¢ docs/evals-curation.md
     â€¢ Review Process section with 5 detailed steps
     â€¢ Common scenarios with examples
     â€¢ Quick reference card
   
   COVERAGE:
     â€¢ When to review (4 triggers)
     â€¢ How to generate diff
     â€¢ How to check output (added/modified/removed)
     â€¢ How to validate evidence IDs
     â€¢ How to test against system
     â€¢ How to approve or request changes
   
   VERIFICATION:
     â€¢ See docs/evals-curation.md Â§ "Review Process"
     â€¢ Step-by-step instructions with examples
     â€¢ Checklists for thoroughness

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KEY TECHNICAL FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. STABLE IDs WITH VERSIONING
   â€¢ IDs never change: golden_<suite>_<number>
   â€¢ Version tracking (starts at 1, increments on update)
   â€¢ Update history (updated_at, updated_by, update_rationale)

2. HUMAN APPROVAL REQUIREMENT
   â€¢ Every item requires approved_by (email)
   â€¢ Every change requires rationale (text)
   â€¢ Validation enforces these fields
   â€¢ Traceability for all changes

3. EVIDENCE ID TRACKING
   â€¢ expected_sources field for source IDs
   â€¢ Diff highlights added/removed sources
   â€¢ Validates source ID format
   â€¢ Documents source changes

4. GIT INTEGRATION
   â€¢ Compare against any git ref (HEAD~1, main, etc.)
   â€¢ Leverages git history for diffs
   â€¢ Commit messages track approvals

5. INTERACTIVE AND CLI MODES
   â€¢ Interactive mode for ease of use
   â€¢ CLI mode for automation/scripts
   â€¢ Flexible workflows

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
GOLDEN ITEM STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Required Fields:
  â€¢ id: Unique identifier (golden_*)
  â€¢ suite: Suite name
  â€¢ added_at: ISO 8601 timestamp
  â€¢ approved_by: Approver email
  â€¢ rationale: Clear reason
  â€¢ version: Version number (1+)

Suite-Specific Fields:
  
  Implicate Lift:
    â€¢ query: Query text
    â€¢ expected_sources: Array of source IDs
    â€¢ category: "implicate_lift"
  
  Contradictions:
    â€¢ query: Query text
    â€¢ expected_contradiction: Boolean
    â€¢ expected_claims: Array of claims
    â€¢ category: "contradiction"
  
  External Compare:
    â€¢ query: Query text
    â€¢ expected_mode: "off" or "on"
    â€¢ expected_parity: Boolean
    â€¢ category: "external_compare"
  
  Pareto Gate:
    â€¢ hypothesis: Hypothesis text
    â€¢ expected_score: Float (0-1)
    â€¢ expected_persisted: Boolean
    â€¢ category: "pareto_gate"

Update Fields (added on update):
  â€¢ updated_at: ISO 8601 timestamp
  â€¢ updated_by: Updater email
  â€¢ update_rationale: Reason for update
  â€¢ version: Incremented version

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
USAGE EXAMPLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ADD IMPLICATE LIFT ITEM:
  python tools/golden_add.py \
    --suite implicate_lift \
    --id golden_bridge_002 \
    --query "How are renewable energy and climate policy connected?" \
    --expected-sources "src_renewable_111,src_climate_222" \
    --rationale "Tests policy-technology bridge" \
    --approved-by "curator@example.com"

UPDATE PARETO GATE ITEM:
  python tools/golden_add.py \
    --suite pareto_gate \
    --id golden_pareto_005 \
    --update \
    --expected-score 0.70 \
    --rationale "Threshold adjustment after model v2.0" \
    --approved-by "ml-eng@example.com"

VIEW DIFF:
  python tools/golden_diff.py --suite implicate_lift --verbose

REVIEW SUMMARY:
  python tools/golden_diff.py --suite implicate_lift --review

INTERACTIVE MODE:
  python tools/golden_add.py --interactive

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DIRECTORY STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

evals/golden/
â”œâ”€â”€ implicate_lift/
â”‚   â””â”€â”€ golden_set.jsonl
â”œâ”€â”€ contradictions/
â”‚   â””â”€â”€ golden_set.jsonl
â”œâ”€â”€ external_compare/
â”‚   â””â”€â”€ golden_set.jsonl
â””â”€â”€ pareto_gate/
    â””â”€â”€ golden_set.jsonl

Each suite has its own golden_set.jsonl with one item per line.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Unit Tests:
  $ python3 -m unittest tests.test_golden_curation -v
  
  Ran 20 tests in 0.009s
  OK âœ…

Integration Tests:
  # Add item
  $ python tools/golden_add.py --suite implicate_lift --id golden_bridge_001 ...
  âœ… Added golden item 'golden_bridge_001' to implicate_lift
  
  # Diff
  $ python tools/golden_diff.py --suite implicate_lift
  Summary:
    Added:    1 items
    Removed:  0 items
    Modified: 0 items
  
  # Update
  $ python tools/golden_add.py --suite implicate_lift --id golden_bridge_001 --update ...
  âœ… Updated golden item 'golden_bridge_001' in implicate_lift
     Version: 2
  
  # Diff shows changes
  $ python tools/golden_diff.py --suite implicate_lift --verbose
  ğŸ“ Modified Items:
    ~ golden_bridge_001
      Version: 1 â†’ 2
      Changes:
        expected_sources:
          + Added: src_exploration_999

Validation Tests:
  # Duplicate ID rejected
  $ python tools/golden_add.py --suite implicate_lift --id golden_bridge_001 ...
  âŒ Error: ID 'golden_bridge_001' already exists. Use --update to modify.
  
  # Invalid ID format rejected
  $ python tools/golden_add.py --suite implicate_lift --id invalid_format ...
  âŒ Error: Golden item IDs must start with 'golden_'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FILES CREATED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tools:
  tools/golden_add.py                        # Addition tool (496 lines)
  tools/golden_diff.py                       # Diff tool (478 lines)

Documentation:
  docs/evals-curation.md                     # Comprehensive guide (600+ lines)
  GOLDEN_CURATION_DELIVERY_SUMMARY.txt       # This file

Tests:
  tests/test_golden_curation.py              # Unit tests (335 lines, 20 tests)

Golden Sets (created during testing):
  evals/golden/implicate_lift/golden_set.jsonl
  evals/golden/pareto_gate/golden_set.jsonl

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
BEST PRACTICES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DO:
  âœ… Use descriptive IDs (golden_bridge_temporal_001)
  âœ… Write clear rationale explaining WHY
  âœ… Verify evidence IDs exist before committing
  âœ… Run diff before committing
  âœ… Keep evidence IDs stable (only update when necessary)
  âœ… Version incrementally
  âœ… Document approvals
  âœ… Test after changes

DON'T:
  âŒ Skip approval (every change needs human approval)
  âŒ Reuse IDs (each item has unique, stable ID)
  âŒ Commit blindly (always review diff first)
  âŒ Use invalid evidence (verify all source IDs)
  âŒ Make mass changes (update individually with rationale)
  âŒ Forget rationale (every change needs "why")
  âŒ Use generic emails (use real approver emails)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
WORKFLOW DIAGRAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Identify Need
      â†“
2. Create Item (golden_add.py)
      â†“
3. Verify Evidence IDs
      â†“
4. Review Changes (golden_diff.py)
      â†“
5. Get Approval
    â”œâ”€ Self-review checklist
    â””â”€ Peer review (if significant)
      â†“
6. Commit & Push

Review Process:
      â†“
1. Generate Diff (golden_diff.py)
      â†“
2. Check Output
    â”œâ”€ Added items: verify ID, rationale, evidence
    â”œâ”€ Modified items: verify version, rationale, changes
    â””â”€ Removed items: understand why
      â†“
3. Validate Evidence IDs
      â†“
4. Test Against System
      â†“
5. Approve or Request Changes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NEXT STEPS FOR USER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Review documentation:
   $ cat docs/evals-curation.md

2. Run tests to verify:
   $ python3 -m unittest tests.test_golden_curation -v

3. Add first golden item:
   $ python tools/golden_add.py --interactive

4. View changes:
   $ python tools/golden_diff.py --suite <suite> --verbose

5. Review and approve:
   - Check diff output
   - Verify evidence IDs
   - Test against system
   - Commit with approval

6. Integrate into workflow:
   - Add to PR review process
   - Use for regression testing
   - Maintain golden sets regularly

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… IMPLEMENTATION: COMPLETE
âœ… TESTS: ALL PASSING (20/20)
âœ… DOCUMENTATION: COMPLETE
âœ… ACCEPTANCE CRITERIA: ALL MET
âœ… WORKFLOW: VERIFIED

Ready for production use!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
